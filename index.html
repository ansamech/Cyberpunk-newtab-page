<!DOCTYPE html> 
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <title>~ newtab ~</title>

  <style type="text/css">
    /* [styling omitted for brevity â€” yours remains unchanged] */
  </style>

  <script type="text/javascript">
    var $ = function(id) { return document.getElementById(id); };

    // ------------------------
    // âœ… Random Cyberpunk Image Setup
    // ------------------------
    const imageList = [
      "Cyberpunk/1.jpg", "Cyberpunk/2.jpg", "Cyberpunk/3.png", "Cyberpunk/4.jpg", "Cyberpunk/5.jpg",
      "Cyberpunk/6.jpg", "Cyberpunk/7.jpg", "Cyberpunk/8.jpg", "Cyberpunk/9.jpg", "Cyberpunk/10.jpg"
      // (Add or reduce based on what's uploaded)
    ];

    function getRandomImage() {
      const randomIndex = Math.floor(Math.random() * imageList.length);
      return imageList[randomIndex];
    }

    function showRandomImage() {
      const img = new Image();
      img.src = getRandomImage();
      img.style.position = "absolute";
      img.style.top = "3%";
      img.style.left = "0";
      img.style.right = "0";
      img.style.margin = "auto";
      img.style.maxWidth = "900px";
      img.style.maxHeight = "400px";
      document.body.appendChild(img);
    }

    window.addEventListener("load", showRandomImage);

    // ------------------------
    // ðŸ”§ Your init + core functionality
    // ------------------------
    function init() {
      var body = document.getElementsByTagName('body')[0];
      body.style.background = background;
      body.style.color = color;

      // Load preset as before
      if (preset > 0) {
        var p = preset - 1;
        var e = 0, f = 0, g = 0;
        for (var i = 0; i <= 17; i++) {
          switch (e) {
            case 0: curve[g][f] = presets[p][i]; break;
            case 1: margins[g][f] = presets[p][i]; break;
            case 2: translateZ[g][f] = presets[p][i]; break;
          }
          f++; if (f >= 3) { f = 0; if (g == 0) { g = 1; } else { g = 0; e++; } }
        }
        var a = 0, b = 0;
        for (var i = 18; i <= 38; i++) {
          rotation[a][b] = presets[p][i];
          b++; if (b >= 3) { b = 0; a++; }
        }
        var d = 39;
        for (var i = 0; i < 3; i++) { dim[i] = presets[p][d]; d++; }
      }

      // Scroll support
      if (body.addEventListener) {
        body.addEventListener("mousewheel", MouseWheelHandler, false);
        body.addEventListener("DOMMouseScroll", MouseWheelHandler, false);
      } else {
        body.attachEvent("onmousewheel", MouseWheelHandler);
      }

      // Build layout
      clear();
      build();

      var linkTags = document.getElementsByTagName('a');
      for (var a = 0; a < linkTags.length; a++) {
        linkTags[a].style.color = color;
      }

      var inputTags = document.getElementsByTagName('input');
      for (var i = 0; i < inputTags.length; i++) {
        inputTags[i].style.color = background;
      }

      var switchClass = document.getElementsByClassName('switch');
      for (var c = 0; c < switchClass.length; c++) {
        switchClass[c].style.borderColor = color;
      }

      if (enableTags) { $('switch').style.visibility = "visible"; }
      cleanup();

      if (autoFocus.length > 0) { $(autoFocus).focus(); }

      if (displayPreset) {
        // You can keep your preset generator here if needed
        $('preset').innerHTML = "Animation preset : " + genPreset;
        $('preset').style.display = "block";
      }
    }

    // [All other functions remain unchanged]
    // Just make sure you DELETE the `newImage()` function and the line that calls it
    // âœ… REMOVED this broken code:
    // currentIndx = 0;
    // MyImages = new Array();
    // MyImages[0] = '7a17d81893a909f16db8b5d35b069fd9-d512z1c.jpg';
    // ...
    // newImage();
  </script>
</head>
<body onload="javascript:init();">
  <!-- Your layout remains unchanged -->
  <table height="50"><tbody><tr><td valign="middle" halign="right"><img src="" name="img" alt="" style="position:left;"/></td></tr></tbody></table>
  <div id="perspective"><div id="boxes"></div></div>
  <div id="switch"></div>
  <div id="shadow-top"></div>
  <div id="shadow-bot"></div>
  <div id="preset"></div>
</body>
</html>
